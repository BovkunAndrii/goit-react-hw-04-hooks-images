{"version":3,"sources":["components/ImageGalleryItem/imageGalleryItem.module.css","components/Modal/modal.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","App.module.css","components/Searchbar/searchbar.module.css","services/api.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","Searchbar","onSubmit","useState","query","setQuery","className","styles","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","queryValue","currentTarget","toLowerCase","trim","ImageGallery","children","ImageGalleryItem","hitsId","srcWebformat","onClick","src","alt","ImageGalleryItemImage","Button","length","modalRoot","document","querySelector","Modal","onClose","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","target","GalleryLoader","color","height","width","App","hits","setHits","searchQuery","setSearchQuery","currentPage","setCurrentPage","isLoading","setIsLoading","error","setError","largeImageURL","setLargeImageURL","isModalOpen","setIsModalOpen","fetchHits","option","pageSize","get","then","response","data","api","prevHits","smoothScroll","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevState","shouldRenderLoadMoreButton","Container","map","id","webformatURL","pictureId","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c5d7cf59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__t5MjK\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__3vidx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1PStx\",\"Modal\":\"modal_Modal__2eWja\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__1OEQP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__1FYGU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"App_Container__286Ms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__21lcH\",\"SearchForm\":\"searchbar_SearchForm__2xZAX\",\"SearchFormButton\":\"searchbar_SearchFormButton__1jIN9\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__1X3z8\",\"SearchFormInput\":\"searchbar_SearchFormInput__2PgG0\"};","import axios from \"axios\";\n\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\nconst KEY = \"21824668-10aeb8c8af54ec25684dd6884\";\n\nconst fetchHits = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\n  return axios\n    .get(\n      `/?key=${KEY}&q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\n    )\n    .then((response) => response.data.hits);\n};\n\n\nexport { fetchHits };","import { useState } from 'react';\n\nimport styles from '../Searchbar/searchbar.module.css';\n\n\nexport default function Searchbar({onSubmit}) {\n  const [query, setQuery] = useState('');\n  \n  const handleChange = e => {\n    const queryValue = e.currentTarget.value.toLowerCase().trim();\n    setQuery(queryValue)\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n     \n    onSubmit(query);\n\n    setQuery('');\n  };\n\n      return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={handleChange}\n          />\n        </form>\n      </header>\n    );\n}","import styles from '../ImageGallery/imageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className={styles.ImageGallery}>{children}</ul>;\n};\n\nexport default ImageGallery;\n","import styles from '../ImageGalleryItem/imageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ hitsId, srcWebformat, onClick }) => {\n  return (\n    <li className={styles.ImageGalleryItem} onClick={onClick}>\n      <img src={srcWebformat} alt=\"\" className={styles.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './button.module.css';\n\nconst Button = ({ onClick, length }) => (\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ children, onClose }) {\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nconst GalleryLoader = () => (\n  <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n);\n\nexport default GalleryLoader;\n","import { useState, useEffect } from 'react';\n\nimport * as api from './services/api';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport GalleryLoader from './components/Loader';\n\nimport styles from './App.module.css';\n\nexport default function App() {\n  const [hits, setHits] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    fetchHits();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  const onChangeQuery = query => {\n    setSearchQuery(query);\n    setHits([]);\n    setCurrentPage(1);\n    setError(null);\n  };\n\n  const fetchHits = () => {\n    const option = { searchQuery, currentPage };\n    setIsLoading(true);\n    api\n      .fetchHits(option)\n      .then(\n        prevHits => setHits([...hits, ...prevHits]),\n        setCurrentPage(currentPage + 1),\n      )\n      .then(smoothScroll)\n      .catch(error => setError(error))\n      .finally(() => setIsLoading(false));\n  };\n\n  const smoothScroll = () => {\n    if (currentPage > 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  };\n\n  const handleImageClick = url => {\n    setLargeImageURL(url);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(prevState => !prevState);\n  };\n\n  const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n  return (\n    <div className={styles.Container}>\n      <Searchbar onSubmit={onChangeQuery} />\n\n      {error && <p>Sorry! Somethimg went wrong. Try again, please!</p>}\n\n      <ImageGallery>\n        {hits.map(({ id, webformatURL, largeImageURL }) => (\n          <ImageGalleryItem\n            key={id}\n            srcWebformat={webformatURL}\n            pictureId={id}\n            onClick={() => handleImageClick(largeImageURL)}\n          />\n        ))}\n      </ImageGallery>\n\n      {isLoading && <GalleryLoader />}\n\n      {shouldRenderLoadMoreButton && (\n        <Button onClick={fetchHits} length={hits.length} />\n      )}\n\n      {isModalOpen && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageURL} alt=\"\" />\n        </Modal>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}